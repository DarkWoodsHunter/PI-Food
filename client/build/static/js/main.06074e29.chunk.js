(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(24),i=c.n(r),l=(c(42),c(43),c(6)),s=c(14),o=c(1);function j(){return Object(o.jsx)("div",{className:"landing",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"PI FOOD"}),Object(o.jsx)(s.b,{to:"/home",children:Object(o.jsx)("button",{children:"Click to Home"})})]})})}var u=c(7);function d(e){var t=e.id,c=e.image,n=e.name,a=e.healthScore,r=e.diets;return Object(o.jsx)("div",{children:Object(o.jsx)(s.b,{to:"/home/".concat(t),children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:n}),Object(o.jsx)("image",{src:c,alt:"Recipe",width:"300px"}),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{children:["Health Score: ",Object(o.jsx)("span",{children:a})]})}),Object(o.jsx)("label",{children:"Diets: "}),null===r||void 0===r?void 0:r.map((function(e){return Object(o.jsx)("p",{children:e.charAt(0).toUpperCase()+e.slice(1)},e)}))]})})})}var b=c(13),p=c(12),h=c(19),O=c(59),v="GET_RECIPES",x="GET_RECIPE_BY_NAME",f="GET_RECIPE_DETAILS",m="GET_DIET",g="POST_RECIPE",y="FILTER_BY_DIET",S="ORDER_BY_ALPHABET",C="ORDER_BY_SCORE",E="CLEAR_DETAIL",D="CLEAR_RECIPES",w="PAGINATED_ACTION";function R(){return function(){var e=Object(h.a)(Object(p.a)().mark((function e(t){var c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/recipes");case 3:return c=e.sent,e.abrupt("return",t({type:v,payload:c.data}));case 7:e.prev=7,e.t0=e.catch(0),console.log("error in Action getRecipes");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function P(){return function(){var e=Object(h.a)(Object(p.a)().mark((function e(t){var c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/diets");case 3:return c=e.sent,e.abrupt("return",t({type:m,payload:c.data}));case 7:e.prev=7,e.t0=e.catch(0),console.log("Error in Actions getDiet",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function I(){var e=Object(u.b)(),t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],r=c[1],i=function(t){var c;t.preventDefault(),e((c=a,function(){var e=Object(h.a)(Object(p.a)().mark((function e(t){var n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/recipes/?name=".concat(c));case 3:return n=e.sent,e.abrupt("return",t({type:x,payload:n.data}));case 7:e.prev=7,e.t0=e.catch(0),alert("No se encuentra la receta");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),r("")};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"PI FOOD"})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"search",placeholder:"Search Recipe",value:a,onChange:function(e){return function(e){e.preventDefault(),r(e.target.value)}(e)}}),Object(o.jsx)("button",{type:"submit",onClick:function(e){return i(e)},children:"Search"})]})]})}function L(){for(var e=Object(u.b)(),t=Object(u.c)((function(e){return e.recipes})),c=Object(u.c)((function(e){return e.recipePerPage})),n=[],a=null===t||void 0===t?void 0:t.length,r=function(t){var c;e((c=parseInt(t.target.innerHTML),{type:w,payload:c}))},i=1;i<=Math.ceil(a/c);i++)n.push(i);return Object(o.jsx)("div",{children:Object(o.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(o.jsx)("button",{onClick:r,children:e},e)}))})})}function T(){var e=Object(u.b)(),t=Object(u.c)((function(e){return null===e||void 0===e?void 0:e.recipes})),c=Object(u.c)((function(e){return e.currentPage})),a=Object(u.c)((function(e){return e.recipesPage})),r=c*a,i=r-a,l=null===t||void 0===t?void 0:t.slice(i,r);Object(n.useEffect)((function(){0===l.length&&(e(R()),e(P()))}),[e,l]);var s=function(t){var c;t.preventDefault(),e((c=t.target.value,{type:y,payload:c}))},j=function(t){var c;t.preventDefault(),e((c=t.target.value,{type:S,payload:c}))},b=function(t){var c;t.preventDefault(),e((c=t.target.value,{type:C,payload:c}))};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)(I,{})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("select",{name:"alphabetical",onChange:function(e){return j(e)},defaultValue:"default",children:[Object(o.jsx)("option",{value:"default",disable:!0,children:"Alphabetical Order"}),Object(o.jsx)("option",{value:"atoz",children:"A to Z"}),Object(o.jsx)("option",{value:"no atoz",children:"Z to A"})]}),Object(o.jsxs)("select",{name:"numerical",onChange:function(e){return b(e)},defaultValue:"default",children:[Object(o.jsx)("option",{value:"default",disable:!0,children:"Health Score Order"}),Object(o.jsx)("option",{value:"asc",children:"Ascendent Order"}),Object(o.jsx)("option",{value:"desc",children:"Descendent Order"})]}),Object(o.jsxs)("select",{name:"diets",onChange:function(e){return s(e)},defaultValue:"default",children:[Object(o.jsx)("option",{value:"default",disable:!0,children:"Select Diet..."}),Object(o.jsx)("option",{value:"gluten free",children:"Gluten Free"}),Object(o.jsx)("option",{value:"ketogenic",children:"Ketogenic"}),Object(o.jsx)("option",{value:"vegetarian",children:"Vegetarian"}),Object(o.jsx)("option",{value:"lacto vegetarian",children:"Lacto Vegetarian"}),Object(o.jsx)("option",{value:"ovo vegetarian",children:"Ovo Vegetarian"}),Object(o.jsx)("option",{value:"vegan",children:"Vegan"}),Object(o.jsx)("option",{value:"pescatarian",children:"Pescatarian"}),Object(o.jsx)("option",{value:"paleo",children:"Paleo"}),Object(o.jsx)("option",{value:"primal",children:"Primal"}),Object(o.jsx)("option",{value:"low fodmap",children:"Low fodmap"}),Object(o.jsx)("option",{value:"whole 30",children:"Whole 30"})]}),Object(o.jsx)("button",{onClick:function(t){t.preventDefault(),e({type:D,payload:[]})},children:"Reload"})]}),Object(o.jsx)(L,{}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:(null===l||void 0===l?void 0:l.length)<1?Object(o.jsx)("loading",{}):null===l||void 0===l?void 0:l.map((function(e){return Object(o.jsx)(d,{id:e.id,image:e.image,name:e.name,healthScore:e.healthScore,diets:e.diets},e.id)}))})})]})]})}var A=c(18),_=c(17),k=c(3),N=0;function F(){var e=Object(u.b)(),t=Object(l.f)(),c=Object(u.c)((function(e){return e.recipes})),a=Object(u.c)((function(e){return e.diets})),r=Object(n.useState)(""),i=Object(b.a)(r,2),s=i[0],j=i[1],d=Object(n.useState)({}),v=Object(b.a)(d,2),x=v[0],f=v[1],m=Object(n.useState)({name:"",summary:"",healthScore:"",image:"",steps:[],diets:[]}),g=Object(b.a)(m,2),y=g[0],S=g[1];Object(n.useEffect)((function(){e(P())}),[e]);var C=/(http(s?):)([/|.|\w|\s|-])*.(?:jpg|gif|png)/;function D(e){var t=[];return e.name?c.find((function(t){return t.name.toLowerCase().includes(e.name.toLowerCase())}))?t.name="That name already exist":e.summary.lenght<10||!e.summary?t.summary="Enter a correct Summary":e.healthScore<1||e.healthScore>100||!e.healthScore?t.healthScore="Enter a correct healthScore":e.image&&C.test(e.image)?0===e.steps.lenght?t.steps="Enter valid Recipe Steps":e.diet.lenght<1&&(t.diet="Select at least 1 Diet"):t.image="Enter a valid URL":t.name="Enter a correct Name",!(Object.keys(t).length>0)||t}var w=function(e){S(Object(k.a)(Object(k.a)({},y),{},Object(_.a)({},e.target.name,e.target.value))),f(D(Object(k.a)(Object(k.a)({},y),{},Object(_.a)({},e.target.name,e.target.value))))},I=function(c){c.preventDefault(),f(D(y));var n,a=D(y);0!==Object.values(a).length||(e((n=y,Object(h.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/recipes",n);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error in Actions postRecipe",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))),S({name:"",summary:"",healthScore:"",image:"",steps:[],diets:[]}),t.push("/home"),e({type:E}),e(R()))};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:function(e){return I(e)},children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{children:"Create your Recipe"})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Name: "}),Object(o.jsx)("input",{type:"text",value:y.name,name:"name",onChange:function(e){return w(e)},placeholder:"Insert Name..."})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Summary: "}),Object(o.jsx)("textarea",{type:"text",value:y.summary,name:"summary",onChange:function(e){return w(e)},placeholder:"Insert Summary..."}),x.summary&&Object(o.jsx)("h4",{children:x.summary})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Health Score: "}),Object(o.jsx)("input",{type:"number",value:y.healthScore,name:"healthScore",onChange:function(e){return w(e)},placeholder:"Insert a number between 1 and 100"}),x.healthScore&&Object(o.jsx)("h4",{children:x.healthScore})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Image: "}),Object(o.jsx)("input",{type:"number",value:y.image,name:"image",onChange:function(e){return w(e)},placeholder:"Enter a URL..."}),x.image&&Object(o.jsx)("h4",{children:x.image})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Steps: "}),Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{type:"text",value:y.steps.step,name:"steps",onChange:function(e){var t=e.target.value;j(t)},placeholder:"Insert a Step..."}),Object(o.jsx)("button",{type:"button",onClick:function(e){s&&(S(Object(k.a)(Object(k.a)({},y),{},{steps:[].concat(Object(A.a)(y.steps),[{num:N++,step:"Step ".concat(N,": ").concat(s)}])})),f(D(Object(k.a)(Object(k.a)({},y),{},Object(_.a)({},e.target.name,e.target.value)))),j(""))},children:"Add Step"})]}),Object(o.jsx)("div",{children:y.steps.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"".concat(e.step)},t)})}))}),x.steps&&Object(o.jsx)("h4",{children:x.steps})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Diets: "}),Object(o.jsx)("div",{children:Object(o.jsxs)("select",{type:"text",onChange:function(e){return function(e){S(Object(k.a)(Object(k.a)({},y),{},{diets:Object(A.a)(new Set([].concat(Object(A.a)(y.diets),[e.target.value])))})),f(D(Object(k.a)(Object(k.a)({},y),{},Object(_.a)({},e.target.name,e.target.value))))}(e)},defaultValue:"default",children:[Object(o.jsx)("option",{disabled:!0,value:"default",children:" Select Diets..."}),null===a||void 0===a?void 0:a.map((function(e){return Object(o.jsx)("option",{children:e.name},e.id)}))]})}),x.diet&&Object(o.jsx)("h4",{children:x.diet})]}),Object(o.jsx)("button",{type:"summit",children:"Create Recipe"})]})})})}var V=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",component:j}),Object(o.jsx)(l.a,{exact:"/home",component:T}),Object(o.jsx)(l.a,{exact:!0,path:"/recipes",component:F})]})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},G=c(27),H=c(36),M=c(37),Y={recipes:[],allRecipes:[],dietType:[],recipeDetails:[],currentPage:[]};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(k.a)(Object(k.a)({},e),{},{recipes:t.payload,allRecipes:t.payload});case x:return Object(k.a)(Object(k.a)({},e),{},{recipes:t.payload,currentPage:1});case f:return Object(k.a)(Object(k.a)({},e),{},{recipeDetails:t.payload});case m:return Object(k.a)(Object(k.a)({},e),{},{dietType:t.payload});case y:var c=e.allRecipes,n="allRecipes"===t.payload?c:c.filter((function(e){var c;return null===(c=e.dietType)||void 0===c?void 0:c.some((function(e){return e.toLowerCase()===t.payload.toLowerCase()}))}));return Object(k.a)(Object(k.a)({},e),{},{recipes:n,currentPage:1});case S:var a=Object(A.a)(e.recipes);return t.payload,a=e.recipes.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:e.name.toLowerCase()>t.name.toLowerCase()?-1:0})),Object(k.a)(Object(k.a)({},e),{},{recipes:a,currentPage:1});case C:var r=Object(A.a)(e.recipes);return t.payload,r=e.recipes.sort((function(e,t){return e.healthScore<t.healthScore?1:e.healthScore>t.healthScore?-1:0})),Object(k.a)(Object(k.a)({},e),{},{recipes:r,currentPage:1});case g:return Object(k.a)({},e);case E:return Object(k.a)(Object(k.a)({},e),{},{recipeDetails:[]});case D:return Object(k.a)(Object(k.a)({},e),{},{recipes:t.payload});case w:return Object(k.a)(Object(k.a)({},e),{},{currentPage:t.payload});default:return e}},z=Object(G.legacy_createStore)(U,Object(H.composeWithDevTools)(Object(G.applyMiddleware)(M.a)));i.a.render(Object(o.jsxs)(u.a,{store:z,children:[Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(s.a,{children:Object(o.jsx)(V,{})})}),","]}),document.getElementById("root")),B()}},[[57,1,2]]]);
//# sourceMappingURL=main.06074e29.chunk.js.map